"use strict";window.getComputedStyle||(window.getComputedStyle=function(t){return this.el=t,this.getPropertyValue=function(e){var n=/(\-([a-z]){1})/g;return"float"===e&&(e="styleFloat"),n.test(e)&&(e=e.replace(n,function(){return arguments[2].toUpperCase()})),t.currentStyle[e]?t.currentStyle[e]:null},this}),window.Fit=function(){function t(t){return s.innerHTML=t,s.textContent||s.innerText||""}function e(t){return t.clientWidth||t.offsetWidth||t.getBoundingClientRect().width}function n(t){return t.clientHeight||t.offsetHeight||t.getBoundingClientRect().height}function i(){return"FIT_"+a.count++}function r(t){var e,n,i,r="<br>";return e=t.cloneNode(),e.innerHTML=r,t.appendChild(e),n=e.offsetHeight,e.innerHTML=r+r,i=e.offsetHeight,t.removeChild(e),i-n}function o(t,n,i,r,o){for(var a=0,s=o||1,u=getComputedStyle(t),f=u.getPropertyValue("font-size"),c=parseFloat(f),g=f.split(c)[1];e(n)>=i&&(c-=s,r>c&&(c=r,a=l),t.style.fontSize=c+g,!(a++>=l)););}var l=1e5,a={},s=document.createElement("DIV");a.count=0,a.MIN_SIZE=6,a.SCALE_FACTOR=1,a.longestWord=function(n,r,l,s){l=l||a.MIN_SIZE,r=r||e(n),r=parseFloat(r);var u,f=s||a.SCALE_FACTOR,c=n.style.visibility,g=n.innerHTML,p=t(g),h=p.split(" ").sort(function(t,e){return e.length-t.length}),y=[],d=h.length<10?h.length:10;n.style.visibility="hidden";for(var S=0;d>S;++S){var v=i(),m=h[S];h[S]='<span id="'+v+'">'+m+"</span>",y.push(v)}var C=h.join(" ");n.innerHTML=C,u=document.getElementById(y[0]),u.style.whiteSpace="nowrap";for(var H=e(u),T=1,L=y.length;L>T;++T){var F=document.getElementById(y[T]),w=e(F);F.style.whiteSpace="nowrap",w>H&&(H=w,u=F)}o(n,u,r,l,f),n.innerHTML=g,n.style.visibility=c},a.allTo=function(t,e){if(!("string"==typeof t||t.length<1)){var n,i,r=t.length,o=e!==!1,l=[];for(n=0;r>n;++n){i=t[n];var a=getComputedStyle(i),s=a.getPropertyValue("font-size"),u={};u.element=i,u.fontSize=parseFloat(s),u.fontUnits=s.split(u.fontSize)[1],l.push(u)}o?l.sort(function(t,e){return t.fontSize-e.fontSize}):l.sort(function(t,e){return e.fontSize-t.fontSize});var f=l[0];for(n=0;r>n;++n)i=t[n],i.style.fontSize=f.fontSize+f.fontUnits;return f.fontSize+f.fontUnits}},a.allToSmallest=function(t){a.allTo(t,!0)},a.allToLargest=function(t){a.allTo(t,!1)},a.toSingleLine=function(t,r,l,s){var u=i(),f=s||a.SCALE_FACTOR,c=n(t);r=r||e(t),r=parseFloat(r),l=l||a.MIN_SIZE;var g=t.innerHTML;t.innerHTML="<span id="+u+">"+g+"</span>";var p=document.getElementById(u);return p.style.visibility="hidden",p.style.whiteSpace="nowrap",o(t,p,r,l,f),t.style.whiteSpace="nowrap",t.innerHTML=g,c-parseFloat(n(t))},a.inHeight=function(t,e,i,r){i=i||a.MIN_SIZE;var o=0,s=r||a.SCALE_FACTOR,u=getComputedStyle(t),f=u.getPropertyValue("visibility"),c=u.getPropertyValue("max-height"),g=u.getPropertyValue("font-size"),p=parseFloat(g),h=g.split(p)[1];for(e=e||n(t),e=parseFloat(e),t.style.maxHeight=e+"px",t.style.visibility="hidden";(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&(t.clientHeight===t.scrollHeight&&alert("fucked "+t.clientHeight+"==="+t.scrollHeight),p-=s,i>p&&(p=i,o=l),t.style.fontSize=p+h,!(o++>=l)););t.style.maxHeight=c,t.style.visibility=f},a.inLines=function(t,e,i,r){if(1>e)return 0;if(i=i||a.MIN_SIZE,1==e)return a.toSingleLine(t,void 0,i);for(var o=0,s=r||a.SCALE_FACTOR,u=getComputedStyle(t),f=parseFloat(n(t)),c=u.getPropertyValue("font-size"),g=parseFloat(c),p=c.split(g)[1];a.countLines(t,!1)>e&&(g-=s,i>g&&(g=i,o=l),t.style.fontSize=g+p,!(o++>=l)););return f-parseFloat(n(t))},a.countLines=function(t,e){if(!t)return 0;var i=function(t){var e=getComputedStyle(t).getPropertyValue("line-height");return isNaN(parseInt(e,10))?r(t):e},o=parseFloat(n(t)),l=parseFloat(i(t));if(0>=l)return 1;var a=Math.ceil(o/l),s=t.innerHTML,u=s&&e!==!0?(s.match(/<br/g)||[]).length:0;return a+u},a.reset=function(t){t.removeAttribute("style")};var u=new RegExp("<br ?/?>");return a.hasBr=function(t){return u.test(t)},a}(window);